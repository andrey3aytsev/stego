function get_image_stats(s){for(var o=0,t=0,a=S_summ=0,r=S_summ_sq=0,_=0,l=0;l<s.size;l++){var e=Math.abs(s.mod_colors[l][0]-s.src_colors[l][0])+Math.abs(s.mod_colors[l][1]-s.src_colors[l][1])+Math.abs(s.mod_colors[l][2]-s.src_colors[l][2]);s.stats.largest_diff=s.stats.largest_diff<e?e:s.stats.largest_diff,a+=s.src_colors[l][0]+s.src_colors[l][1]+s.src_colors[l][2],r+=Math.pow(a,2),S_summ+=s.mod_colors[l][0]+s.mod_colors[l][1]+s.mod_colors[l][2],S_summ_sq+=Math.pow(S_summ,2),_+=a*S_summ,o+=e,t+=Math.pow(e,2)}s.stats.average_diff=o/s.size,s.stats.average_error=t/s.size,s.stats.signal_to_noise=r/t,s.stats.image_fidelity=1-t/r,s.stats.correlation_quality=_/a,s.stats.structural_content=r/S_summ_sq,console.log("Максимальная разность: ",s.stats.largest_diff),console.log("Средняя абсолютная разность : ",s.stats.average_diff),console.log("Среднеквадратическая ошибка: ",s.stats.average_error),console.log("Отношение «сигнал/шум»: ",s.stats.signal_to_noise),console.log("Качество изображение: ",s.stats.image_fidelity),console.log("Качество корреляции: ",s.stats.correlation_quality),console.log("Структурное содержание: ",s.stats.structural_content)}